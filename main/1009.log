2022/10/09 15:44:17.186282 main.go:79: -----------------------------------------------------------------------------------
2022/10/09 15:44:17.186369 main.go:80: Loaded log file - /Users/IanThomas/go/src/tukxdw-client/main/1009.log
2022/10/09 15:44:17.186400 tukdbint.go:165: No Database API URL provided. Opening DB Connection to mysql instance via DSN - root:rootPass@tcp(localhost:3306)/tuk?parseTime=true&timeout=60s&readTimeout=2s
2022/10/09 15:44:17.188254 main.go:52: Loaded WF Def for Pathway : toc_xdwdef.json
2022/10/09 15:44:17.188775 tukxdw.go:174: Processing WF Def for Pathway : toc
2022/10/09 15:44:17.188869 tukdbint.go:376: Reflecting Field Name Value toc
2022/10/09 15:44:17.188900 tukdbint.go:376: Reflecting Field IsXDSMeta Value false
2022/10/09 15:44:17.188937 tukdbint.go:380: Obtained 2 Key Values - map[isxdsmeta:%!s(bool=false) name:toc]
2022/10/09 15:44:17.188966 tukdbint.go:434: Created Prepared Statement DELETE FROM xdws WHERE name= ? AND isxdsmeta= ? - Values [toc %!s(bool=false)]
2022/10/09 15:44:17.213554 tukxdw.go:182: Deleted Existing XDW Definition for Pathway toc
2022/10/09 15:44:17.213721 tukdbint.go:376: Reflecting Field Name Value toc
2022/10/09 15:44:17.213743 tukdbint.go:376: Reflecting Field IsXDSMeta Value false
2022/10/09 15:44:17.213764 tukdbint.go:376: Reflecting Field XDW Value {"Action":"register","Pathway":"","NHS_ID":"","WorkflowDefinition":{"ref":"toc","name":"Transfer of Care","confidentialitycode":"N","completebytime":"day(5)","completionBehavior":[{"completion":{"condition":"task(6)"}}],"tasks":[{"id":"1","tasktype":"TASK","name":"TOC_Workflow_Opened","description":"New Transfer of Care Workflow","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Workflow_Open)"}}],"input":[{"name":"LAC1^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}],"output":[{"name":"TOC_Workflow_Open","contenttype":"text/plain","accesstype":"URL"}]},{"id":"2","tasktype":"TASK","name":"TOC_Request","description":"Issue Transfer Of Care Request to Provider","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"day(1)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Request)"}}],"input":[{"name":"TOC_Workflow_Open","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Request","contenttype":"text/plain","accesstype":"URL"}]},{"id":"3","tasktype":"TASK","name":"TOC_Request_Accept_Reject","description":"Provider Accepts or Rejects Transfer Of Care Request","owner":"Provider_Referrals","expirationtime":"","startbytime":"","completebytime":"days(2)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Request_Accept)"}}],"input":[{"name":"TOC_Request","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Request_Reject","contenttype":"text/plain","accesstype":"URL"},{"name":"TOC_Request_Accept","contenttype":"text/plain","accesstype":"URL"}]},{"id":"4","tasktype":"TASK","name":"TOC_Schedule_Transport","description":"Schedule Patient Transport for TOC","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"day(3)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Transport_Scheduled)"}}],"input":[{"name":"TOC_Request_Accept","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Transport_Scheduled","contenttype":"text/plain","accesstype":"URL"}]},{"id":"5","tasktype":"TASK","name":"Admit_Patient","description":"Patient Transferred and Admitted by Provider","owner":"Provider_Referrals","expirationtime":"","startbytime":"","completebytime":"day(4)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Patient_Admitted)"}}],"input":[{"name":"TOC_Transport_Scheduled","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Patient_Admitted","contenttype":"text/plain","accesstype":"URL"}]},{"id":"6","tasktype":"TASK","name":"TOC_Workflow_Close","description":"Close TOC Pathway for Patient","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"day(5)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Workflow_Closed)"}}],"output":[{"name":"TOC_Workflow_Closed","contenttype":"text/plain","accesstype":"URL"}]}]},"DSUB_BrokerURL":"http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub","DSUB_ConsumerURL":"http://tukeventserver.ddns.net:8081/eventservice/event","Response":null}
2022/10/09 15:44:17.213812 tukdbint.go:380: Obtained 3 Key Values - map[isxdsmeta:%!s(bool=false) name:toc xdw:{"Action":"register","Pathway":"","NHS_ID":"","WorkflowDefinition":{"ref":"toc","name":"Transfer of Care","confidentialitycode":"N","completebytime":"day(5)","completionBehavior":[{"completion":{"condition":"task(6)"}}],"tasks":[{"id":"1","tasktype":"TASK","name":"TOC_Workflow_Opened","description":"New Transfer of Care Workflow","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Workflow_Open)"}}],"input":[{"name":"LAC1^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}],"output":[{"name":"TOC_Workflow_Open","contenttype":"text/plain","accesstype":"URL"}]},{"id":"2","tasktype":"TASK","name":"TOC_Request","description":"Issue Transfer Of Care Request to Provider","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"day(1)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Request)"}}],"input":[{"name":"TOC_Workflow_Open","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Request","contenttype":"text/plain","accesstype":"URL"}]},{"id":"3","tasktype":"TASK","name":"TOC_Request_Accept_Reject","description":"Provider Accepts or Rejects Transfer Of Care Request","owner":"Provider_Referrals","expirationtime":"","startbytime":"","completebytime":"days(2)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Request_Accept)"}}],"input":[{"name":"TOC_Request","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Request_Reject","contenttype":"text/plain","accesstype":"URL"},{"name":"TOC_Request_Accept","contenttype":"text/plain","accesstype":"URL"}]},{"id":"4","tasktype":"TASK","name":"TOC_Schedule_Transport","description":"Schedule Patient Transport for TOC","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"day(3)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Transport_Scheduled)"}}],"input":[{"name":"TOC_Request_Accept","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Transport_Scheduled","contenttype":"text/plain","accesstype":"URL"}]},{"id":"5","tasktype":"TASK","name":"Admit_Patient","description":"Patient Transferred and Admitted by Provider","owner":"Provider_Referrals","expirationtime":"","startbytime":"","completebytime":"day(4)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Patient_Admitted)"}}],"input":[{"name":"TOC_Transport_Scheduled","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Patient_Admitted","contenttype":"text/plain","accesstype":"URL"}]},{"id":"6","tasktype":"TASK","name":"TOC_Workflow_Close","description":"Close TOC Pathway for Patient","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"day(5)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Workflow_Closed)"}}],"output":[{"name":"TOC_Workflow_Closed","contenttype":"text/plain","accesstype":"URL"}]}]},"DSUB_BrokerURL":"http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub","DSUB_ConsumerURL":"http://tukeventserver.ddns.net:8081/eventservice/event","Response":null}]
2022/10/09 15:44:17.213828 tukdbint.go:434: Created Prepared Statement INSERT INTO xdws (isxdsmeta, xdw, name) VALUES (?, ?, ?) - Values [%!s(bool=false) {"Action":"register","Pathway":"","NHS_ID":"","WorkflowDefinition":{"ref":"toc","name":"Transfer of Care","confidentialitycode":"N","completebytime":"day(5)","completionBehavior":[{"completion":{"condition":"task(6)"}}],"tasks":[{"id":"1","tasktype":"TASK","name":"TOC_Workflow_Opened","description":"New Transfer of Care Workflow","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Workflow_Open)"}}],"input":[{"name":"LAC1^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}],"output":[{"name":"TOC_Workflow_Open","contenttype":"text/plain","accesstype":"URL"}]},{"id":"2","tasktype":"TASK","name":"TOC_Request","description":"Issue Transfer Of Care Request to Provider","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"day(1)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Request)"}}],"input":[{"name":"TOC_Workflow_Open","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Request","contenttype":"text/plain","accesstype":"URL"}]},{"id":"3","tasktype":"TASK","name":"TOC_Request_Accept_Reject","description":"Provider Accepts or Rejects Transfer Of Care Request","owner":"Provider_Referrals","expirationtime":"","startbytime":"","completebytime":"days(2)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Request_Accept)"}}],"input":[{"name":"TOC_Request","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Request_Reject","contenttype":"text/plain","accesstype":"URL"},{"name":"TOC_Request_Accept","contenttype":"text/plain","accesstype":"URL"}]},{"id":"4","tasktype":"TASK","name":"TOC_Schedule_Transport","description":"Schedule Patient Transport for TOC","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"day(3)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Transport_Scheduled)"}}],"input":[{"name":"TOC_Request_Accept","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Transport_Scheduled","contenttype":"text/plain","accesstype":"URL"}]},{"id":"5","tasktype":"TASK","name":"Admit_Patient","description":"Patient Transferred and Admitted by Provider","owner":"Provider_Referrals","expirationtime":"","startbytime":"","completebytime":"day(4)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Patient_Admitted)"}}],"input":[{"name":"TOC_Transport_Scheduled","contenttype":"text/plain","accesstype":"URL"}],"output":[{"name":"TOC_Patient_Admitted","contenttype":"text/plain","accesstype":"URL"}]},{"id":"6","tasktype":"TASK","name":"TOC_Workflow_Close","description":"Close TOC Pathway for Patient","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"day(5)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(TOC_Workflow_Closed)"}}],"output":[{"name":"TOC_Workflow_Closed","contenttype":"text/plain","accesstype":"URL"}]}]},"DSUB_BrokerURL":"http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub","DSUB_ConsumerURL":"http://tukeventserver.ddns.net:8081/eventservice/event","Response":null} toc]
2022/10/09 15:44:17.220377 tukxdw.go:192: Persisted New XDW Definition for Pathway toc
2022/10/09 15:44:17.220412 tukxdw.go:137: Parsing XDW Tasks for potential DSUB Broker Subscriptions
2022/10/09 15:44:17.220424 tukxdw.go:140: Checking Input Task LAC1^^TypeCode_EPUT_2018
2022/10/09 15:44:17.220435 tukxdw.go:143: Task 1 TOC_Workflow_Opened task input LAC1^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.220443 tukxdw.go:149: Checking Output Task TOC_Workflow_Open
2022/10/09 15:44:17.220452 tukxdw.go:154: Output Task TOC_Workflow_Open does not require a dsub broker subscription
2022/10/09 15:44:17.220460 tukxdw.go:140: Checking Input Task TOC_Workflow_Open
2022/10/09 15:44:17.220469 tukxdw.go:145: Input Task TOC_Workflow_Open does not require a dsub broker subscription
2022/10/09 15:44:17.220499 tukxdw.go:149: Checking Output Task TOC_Request
2022/10/09 15:44:17.220509 tukxdw.go:154: Output Task TOC_Request does not require a dsub broker subscription
2022/10/09 15:44:17.220517 tukxdw.go:140: Checking Input Task TOC_Request
2022/10/09 15:44:17.220526 tukxdw.go:145: Input Task TOC_Request does not require a dsub broker subscription
2022/10/09 15:44:17.220533 tukxdw.go:149: Checking Output Task TOC_Request_Reject
2022/10/09 15:44:17.220549 tukxdw.go:154: Output Task TOC_Request_Reject does not require a dsub broker subscription
2022/10/09 15:44:17.220557 tukxdw.go:149: Checking Output Task TOC_Request_Accept
2022/10/09 15:44:17.220566 tukxdw.go:154: Output Task TOC_Request_Accept does not require a dsub broker subscription
2022/10/09 15:44:17.220573 tukxdw.go:140: Checking Input Task TOC_Request_Accept
2022/10/09 15:44:17.220581 tukxdw.go:145: Input Task TOC_Request_Accept does not require a dsub broker subscription
2022/10/09 15:44:17.220589 tukxdw.go:149: Checking Output Task TOC_Transport_Scheduled
2022/10/09 15:44:17.220596 tukxdw.go:154: Output Task TOC_Transport_Scheduled does not require a dsub broker subscription
2022/10/09 15:44:17.220604 tukxdw.go:140: Checking Input Task TOC_Transport_Scheduled
2022/10/09 15:44:17.220612 tukxdw.go:145: Input Task TOC_Transport_Scheduled does not require a dsub broker subscription
2022/10/09 15:44:17.220621 tukxdw.go:149: Checking Output Task TOC_Patient_Admitted
2022/10/09 15:44:17.220629 tukxdw.go:154: Output Task TOC_Patient_Admitted does not require a dsub broker subscription
2022/10/09 15:44:17.220636 tukxdw.go:149: Checking Output Task TOC_Workflow_Closed
2022/10/09 15:44:17.220644 tukxdw.go:154: Output Task TOC_Workflow_Closed does not require a dsub broker subscription
2022/10/09 15:44:17.220664 tukxdw.go:159: Found 1 potential DSUB Broker Subscriptions - map[LAC1^^TypeCode_EPUT_2018:toc]
2022/10/09 15:44:17.220677 tukdsub.go:186: Processing Cancel Subscriptions
2022/10/09 15:44:17.220697 tukdbint.go:376: Reflecting Field Pathway Value toc
2022/10/09 15:44:17.220712 tukdbint.go:380: Obtained 1 Key Values - map[pathway:toc]
2022/10/09 15:44:17.220725 tukdbint.go:434: Created Prepared Statement DELETE FROM subscriptions WHERE pathway= ? - Values [toc]
2022/10/09 15:44:17.225412 tukdsub.go:183: Processing Create Subscriptions
2022/10/09 15:44:17.225443 tukdsub.go:381: Checking for existing Subscriptions for Expression LAC1^^TypeCode_EPUT_2018
2022/10/09 15:44:17.225461 tukdbint.go:376: Reflecting Field Pathway Value toc
2022/10/09 15:44:17.225474 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.225483 tukdbint.go:376: Reflecting Field Expression Value LAC1^^TypeCode_EPUT_2018
2022/10/09 15:44:17.225500 tukdbint.go:380: Obtained 3 Key Values - map[expression:LAC1^^TypeCode_EPUT_2018 pathway:toc topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.225526 tukdbint.go:434: Created Prepared Statement SELECT * FROM subscriptions WHERE pathway= ? AND topic= ? AND expression= ? - Values [toc $XDSDocumentEntryTypeCode LAC1^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.227970 tukdsub.go:396: No Subscription for Pathway toc Topic $XDSDocumentEntryTypeCode Expression LAC1^^TypeCode_EPUT_2018 found
2022/10/09 15:44:17.228233 tukdsub.go:419: Sending Subscribe Request to DSUB Broker http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
2022/10/09 15:44:17.228305 tukhttp.go:209: SOAP Request Headers
2022/10/09 15:44:17.228363 tukutil.go:188: {
  "Accept": [
    "*/*"
  ],
  "Connection": [
    "keep-alive"
  ],
  "Content-Type": [
    "application/soap+xml"
  ],
  "Soapaction": [
    "http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest"
  ]
}
2022/10/09 15:44:17.228386 tukhttp.go:211: SOAP Request
URL = http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
Action = http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest
Timeout = 5

<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://www.w3.org/2003/05/soap-envelope' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:s='http://www.w3.org/2001/XMLSchema' xmlns:wsa='http://www.w3.org/2005/08/addressing'><SOAP-ENV:Header><wsa:Action SOAP-ENV:mustUnderstand='true'>http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest</wsa:Action><wsa:MessageID>urn:uuid:873f00a1-9eb0-4063-a874-fe868cfc8f1c</wsa:MessageID><wsa:ReplyTo SOAP-ENV:mustUnderstand='true'><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address></wsa:ReplyTo><wsa:To>http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub</wsa:To></SOAP-ENV:Header><SOAP-ENV:Body><wsnt:Subscribe xmlns:wsnt='http://docs.oasis-open.org/wsn/b-2' xmlns:a='http://www.w3.org/2005/08/addressing' xmlns:rim='urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0' xmlns:wsa='http://www.w3.org/2005/08/addressing'><wsnt:ConsumerReference><wsa:Address>http://tukeventserver.ddns.net:8081/eventservice/event</wsa:Address></wsnt:ConsumerReference><wsnt:Filter><wsnt:TopicExpression Dialect='http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple'>ihe:FullDocumentEntry</wsnt:TopicExpression><rim:AdhocQuery id='urn:uuid:742790e0-aba6-43d6-9f1f-e43ed9790b79'><rim:Slot name='$XDSDocumentEntryTypeCode'><rim:ValueList><rim:Value>('LAC1^^TypeCode_EPUT_2018')</rim:Value></rim:ValueList></rim:Slot></rim:AdhocQuery></wsnt:Filter></wsnt:Subscribe></SOAP-ENV:Body></SOAP-ENV:Envelope>
2022/10/09 15:44:17.343727 tukhttp.go:214: SOAP Response - Status Code = 200
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"><env:Header xmlns:addressing="http://www.w3.org/2005/08/addressing"><addressing:Action env:mustUnderstand="1">http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeResponse</addressing:Action><addressing:MessageID>uuid:EF291240-C76B-4B92-B376-DB2A3BD4F9D5</addressing:MessageID><addressing:RelatesTo>urn:uuid:873f00a1-9eb0-4063-a874-fe868cfc8f1c</addressing:RelatesTo></env:Header><env:Body><wsnt:SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">    <wsnt:SubscriptionReference>        <a:Address xmlns:a="http://www.w3.org/2005/08/addressing">http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d</a:Address>    </wsnt:SubscriptionReference>    <wsnt:TerminationTime>2099-09-20T00:00:00.000Z</wsnt:TerminationTime></wsnt:SubscribeResponse></env:Body></env:Envelope>
2022/10/09 15:44:17.343996 tukdsub.go:433: Set Broker Ref =  http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d
2022/10/09 15:44:17.344021 tukdsub.go:440: Registering Subscription with Event Service
2022/10/09 15:44:17.344047 tukdbint.go:376: Reflecting Field BrokerRef Value http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d
2022/10/09 15:44:17.344063 tukdbint.go:376: Reflecting Field Pathway Value toc
2022/10/09 15:44:17.344076 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.344088 tukdbint.go:376: Reflecting Field Expression Value LAC1^^TypeCode_EPUT_2018
2022/10/09 15:44:17.344114 tukdbint.go:380: Obtained 4 Key Values - map[brokerref:http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d expression:LAC1^^TypeCode_EPUT_2018 pathway:toc topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.344141 tukdbint.go:434: Created Prepared Statement INSERT INTO subscriptions (topic, expression, brokerref, pathway) VALUES (?, ?, ?, ?) - Values [$XDSDocumentEntryTypeCode LAC1^^TypeCode_EPUT_2018 http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d toc]
2022/10/09 15:44:17.351882 main.go:52: Loaded WF Def for Pathway : lac_xdwdef.json
2022/10/09 15:44:17.352128 tukxdw.go:174: Processing WF Def for Pathway : lac
2022/10/09 15:44:17.352158 tukdbint.go:376: Reflecting Field Name Value lac
2022/10/09 15:44:17.352179 tukdbint.go:376: Reflecting Field IsXDSMeta Value false
2022/10/09 15:44:17.352206 tukdbint.go:380: Obtained 2 Key Values - map[isxdsmeta:%!s(bool=false) name:lac]
2022/10/09 15:44:17.352258 tukdbint.go:434: Created Prepared Statement DELETE FROM xdws WHERE name= ? AND isxdsmeta= ? - Values [lac %!s(bool=false)]
2022/10/09 15:44:17.356571 tukxdw.go:182: Deleted Existing XDW Definition for Pathway lac
2022/10/09 15:44:17.356669 tukdbint.go:376: Reflecting Field Name Value lac
2022/10/09 15:44:17.356694 tukdbint.go:376: Reflecting Field IsXDSMeta Value false
2022/10/09 15:44:17.356716 tukdbint.go:376: Reflecting Field XDW Value {"Action":"register","Pathway":"","NHS_ID":"","WorkflowDefinition":{"ref":"lac","name":"Looked After Child Services","confidentialitycode":"Restricted","completebytime":"day(20)","completionBehavior":[{"completion":{"condition":"task(6)"}}],"tasks":[{"id":"1","tasktype":"TASK","name":"LAC_Workflow_Opened","description":"Open Workflow for Looked After Child Identified to Council","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC1^^TypeCode_EPUT_2018)"}},{"completion":{"condition":"task(2)"}}],"output":[{"name":"LAC1^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"2","tasktype":"TASK","name":"Send_LAC_Paperwork","description":"LAC paperwork sent to IHA Provider","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"day(2)","completebytime":"day(3)","isskipable":false,"completionBehavior":[{"completion":{"condition":"task(3)"}}],"output":[{"name":"LAC4^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"3","tasktype":"TASK","name":"Provider_Accept_Reject_Paperwork","description":"Provider Accepts or Rejects LAC paperwork","owner":"Provider_Referrals","expirationtime":"day(14)","startbytime":"day(3)","completebytime":"day(7)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC5^^TypeCode_EPUT_2018) and latest(LAC5^^TypeCode_EPUT_2018)"}}],"output":[{"name":"LAC5^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"},{"name":"LAC6^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"4","tasktype":"TASK","name":"IHA_Scheduled","description":"Provider Schedules IHA Appointment","owner":"Provider_Referrals","expirationtime":"day(15)","startbytime":"day(7)","completebytime":"day(8)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC7^^TypeCode_EPUT_2018)"}}],"output":[{"name":"LAC7^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"5","tasktype":"TASK","name":"IHA_Completed","description":"Provider Completed IHA Assessment","owner":"Provider_Referrals","expirationtime":"","startbytime":"day(8)","completebytime":"day(18)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC8^^TypeCode_EPUT_2018)"}}],"input":[{"name":"LAC7^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}],"output":[{"name":"LAC8^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"6","tasktype":"TASK","name":"LAC_Workflow_Completed","description":"Commissoner Acknowledged IHA Received","owner":"Commissioner_Referrals","expirationtime":"day(25)","startbytime":"day(19)","completebytime":"day(20)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC9^^TypeCode_EPUT_2018)"}}],"input":[{"name":"LAC8^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}],"output":[{"name":"LAC9^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]}]},"DSUB_BrokerURL":"http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub","DSUB_ConsumerURL":"http://tukeventserver.ddns.net:8081/eventservice/event","Response":null}
2022/10/09 15:44:17.356747 tukdbint.go:380: Obtained 3 Key Values - map[isxdsmeta:%!s(bool=false) name:lac xdw:{"Action":"register","Pathway":"","NHS_ID":"","WorkflowDefinition":{"ref":"lac","name":"Looked After Child Services","confidentialitycode":"Restricted","completebytime":"day(20)","completionBehavior":[{"completion":{"condition":"task(6)"}}],"tasks":[{"id":"1","tasktype":"TASK","name":"LAC_Workflow_Opened","description":"Open Workflow for Looked After Child Identified to Council","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC1^^TypeCode_EPUT_2018)"}},{"completion":{"condition":"task(2)"}}],"output":[{"name":"LAC1^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"2","tasktype":"TASK","name":"Send_LAC_Paperwork","description":"LAC paperwork sent to IHA Provider","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"day(2)","completebytime":"day(3)","isskipable":false,"completionBehavior":[{"completion":{"condition":"task(3)"}}],"output":[{"name":"LAC4^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"3","tasktype":"TASK","name":"Provider_Accept_Reject_Paperwork","description":"Provider Accepts or Rejects LAC paperwork","owner":"Provider_Referrals","expirationtime":"day(14)","startbytime":"day(3)","completebytime":"day(7)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC5^^TypeCode_EPUT_2018) and latest(LAC5^^TypeCode_EPUT_2018)"}}],"output":[{"name":"LAC5^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"},{"name":"LAC6^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"4","tasktype":"TASK","name":"IHA_Scheduled","description":"Provider Schedules IHA Appointment","owner":"Provider_Referrals","expirationtime":"day(15)","startbytime":"day(7)","completebytime":"day(8)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC7^^TypeCode_EPUT_2018)"}}],"output":[{"name":"LAC7^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"5","tasktype":"TASK","name":"IHA_Completed","description":"Provider Completed IHA Assessment","owner":"Provider_Referrals","expirationtime":"","startbytime":"day(8)","completebytime":"day(18)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC8^^TypeCode_EPUT_2018)"}}],"input":[{"name":"LAC7^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}],"output":[{"name":"LAC8^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"6","tasktype":"TASK","name":"LAC_Workflow_Completed","description":"Commissoner Acknowledged IHA Received","owner":"Commissioner_Referrals","expirationtime":"day(25)","startbytime":"day(19)","completebytime":"day(20)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC9^^TypeCode_EPUT_2018)"}}],"input":[{"name":"LAC8^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}],"output":[{"name":"LAC9^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]}]},"DSUB_BrokerURL":"http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub","DSUB_ConsumerURL":"http://tukeventserver.ddns.net:8081/eventservice/event","Response":null}]
2022/10/09 15:44:17.356804 tukdbint.go:434: Created Prepared Statement INSERT INTO xdws (name, isxdsmeta, xdw) VALUES (?, ?, ?) - Values [lac %!s(bool=false) {"Action":"register","Pathway":"","NHS_ID":"","WorkflowDefinition":{"ref":"lac","name":"Looked After Child Services","confidentialitycode":"Restricted","completebytime":"day(20)","completionBehavior":[{"completion":{"condition":"task(6)"}}],"tasks":[{"id":"1","tasktype":"TASK","name":"LAC_Workflow_Opened","description":"Open Workflow for Looked After Child Identified to Council","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"","completebytime":"","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC1^^TypeCode_EPUT_2018)"}},{"completion":{"condition":"task(2)"}}],"output":[{"name":"LAC1^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"2","tasktype":"TASK","name":"Send_LAC_Paperwork","description":"LAC paperwork sent to IHA Provider","owner":"Commissioner_Referrals","expirationtime":"","startbytime":"day(2)","completebytime":"day(3)","isskipable":false,"completionBehavior":[{"completion":{"condition":"task(3)"}}],"output":[{"name":"LAC4^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"3","tasktype":"TASK","name":"Provider_Accept_Reject_Paperwork","description":"Provider Accepts or Rejects LAC paperwork","owner":"Provider_Referrals","expirationtime":"day(14)","startbytime":"day(3)","completebytime":"day(7)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC5^^TypeCode_EPUT_2018) and latest(LAC5^^TypeCode_EPUT_2018)"}}],"output":[{"name":"LAC5^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"},{"name":"LAC6^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"4","tasktype":"TASK","name":"IHA_Scheduled","description":"Provider Schedules IHA Appointment","owner":"Provider_Referrals","expirationtime":"day(15)","startbytime":"day(7)","completebytime":"day(8)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC7^^TypeCode_EPUT_2018)"}}],"output":[{"name":"LAC7^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"5","tasktype":"TASK","name":"IHA_Completed","description":"Provider Completed IHA Assessment","owner":"Provider_Referrals","expirationtime":"","startbytime":"day(8)","completebytime":"day(18)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC8^^TypeCode_EPUT_2018)"}}],"input":[{"name":"LAC7^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}],"output":[{"name":"LAC8^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]},{"id":"6","tasktype":"TASK","name":"LAC_Workflow_Completed","description":"Commissoner Acknowledged IHA Received","owner":"Commissioner_Referrals","expirationtime":"day(25)","startbytime":"day(19)","completebytime":"day(20)","isskipable":false,"completionBehavior":[{"completion":{"condition":"output(LAC9^^TypeCode_EPUT_2018)"}}],"input":[{"name":"LAC8^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}],"output":[{"name":"LAC9^^TypeCode_EPUT_2018","contenttype":"application/pdf","accesstype":"urn:ihe:iti:xdw:2011:XDSregistered"}]}]},"DSUB_BrokerURL":"http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub","DSUB_ConsumerURL":"http://tukeventserver.ddns.net:8081/eventservice/event","Response":null}]
2022/10/09 15:44:17.359596 tukxdw.go:192: Persisted New XDW Definition for Pathway lac
2022/10/09 15:44:17.359650 tukxdw.go:137: Parsing XDW Tasks for potential DSUB Broker Subscriptions
2022/10/09 15:44:17.359686 tukxdw.go:149: Checking Output Task LAC1^^TypeCode_EPUT_2018
2022/10/09 15:44:17.359703 tukxdw.go:152: Task 1 LAC_Workflow_Opened task output LAC1^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.359716 tukxdw.go:149: Checking Output Task LAC4^^TypeCode_EPUT_2018
2022/10/09 15:44:17.359727 tukxdw.go:152: Task 2 Send_LAC_Paperwork task output LAC4^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.359738 tukxdw.go:149: Checking Output Task LAC5^^TypeCode_EPUT_2018
2022/10/09 15:44:17.359750 tukxdw.go:152: Task 3 Provider_Accept_Reject_Paperwork task output LAC5^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.359797 tukxdw.go:149: Checking Output Task LAC6^^TypeCode_EPUT_2018
2022/10/09 15:44:17.359810 tukxdw.go:152: Task 3 Provider_Accept_Reject_Paperwork task output LAC6^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.359821 tukxdw.go:149: Checking Output Task LAC7^^TypeCode_EPUT_2018
2022/10/09 15:44:17.359832 tukxdw.go:152: Task 4 IHA_Scheduled task output LAC7^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.359843 tukxdw.go:140: Checking Input Task LAC7^^TypeCode_EPUT_2018
2022/10/09 15:44:17.359855 tukxdw.go:143: Task 5 IHA_Completed task input LAC7^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.359865 tukxdw.go:149: Checking Output Task LAC8^^TypeCode_EPUT_2018
2022/10/09 15:44:17.359877 tukxdw.go:152: Task 5 IHA_Completed task output LAC8^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.359887 tukxdw.go:140: Checking Input Task LAC8^^TypeCode_EPUT_2018
2022/10/09 15:44:17.359898 tukxdw.go:143: Task 6 LAC_Workflow_Completed task input LAC8^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.359908 tukxdw.go:149: Checking Output Task LAC9^^TypeCode_EPUT_2018
2022/10/09 15:44:17.359919 tukxdw.go:152: Task 6 LAC_Workflow_Completed task output LAC9^^TypeCode_EPUT_2018 included in potential DSUB Broker subscriptions
2022/10/09 15:44:17.359963 tukxdw.go:159: Found 7 potential DSUB Broker Subscriptions - map[LAC1^^TypeCode_EPUT_2018:lac LAC4^^TypeCode_EPUT_2018:lac LAC5^^TypeCode_EPUT_2018:lac LAC6^^TypeCode_EPUT_2018:lac LAC7^^TypeCode_EPUT_2018:lac LAC8^^TypeCode_EPUT_2018:lac LAC9^^TypeCode_EPUT_2018:lac]
2022/10/09 15:44:17.359986 tukdsub.go:186: Processing Cancel Subscriptions
2022/10/09 15:44:17.360007 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.360025 tukdbint.go:380: Obtained 1 Key Values - map[pathway:lac]
2022/10/09 15:44:17.360042 tukdbint.go:434: Created Prepared Statement DELETE FROM subscriptions WHERE pathway= ? - Values [lac]
2022/10/09 15:44:17.361206 tukdsub.go:183: Processing Create Subscriptions
2022/10/09 15:44:17.361262 tukdsub.go:381: Checking for existing Subscriptions for Expression LAC6^^TypeCode_EPUT_2018
2022/10/09 15:44:17.361280 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.361294 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.361305 tukdbint.go:376: Reflecting Field Expression Value LAC6^^TypeCode_EPUT_2018
2022/10/09 15:44:17.361321 tukdbint.go:380: Obtained 3 Key Values - map[expression:LAC6^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.361335 tukdbint.go:434: Created Prepared Statement SELECT * FROM subscriptions WHERE expression= ? AND pathway= ? AND topic= ? - Values [LAC6^^TypeCode_EPUT_2018 lac $XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.363444 tukdsub.go:396: No Subscription for Pathway lac Topic $XDSDocumentEntryTypeCode Expression LAC6^^TypeCode_EPUT_2018 found
2022/10/09 15:44:17.363737 tukdsub.go:419: Sending Subscribe Request to DSUB Broker http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
2022/10/09 15:44:17.363782 tukhttp.go:209: SOAP Request Headers
2022/10/09 15:44:17.363808 tukutil.go:188: {
  "Accept": [
    "*/*"
  ],
  "Connection": [
    "keep-alive"
  ],
  "Content-Type": [
    "application/soap+xml"
  ],
  "Soapaction": [
    "http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest"
  ]
}
2022/10/09 15:44:17.363821 tukhttp.go:211: SOAP Request
URL = http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
Action = http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest
Timeout = 5

<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://www.w3.org/2003/05/soap-envelope' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:s='http://www.w3.org/2001/XMLSchema' xmlns:wsa='http://www.w3.org/2005/08/addressing'><SOAP-ENV:Header><wsa:Action SOAP-ENV:mustUnderstand='true'>http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest</wsa:Action><wsa:MessageID>urn:uuid:0821e7b6-88da-43f5-881c-a5294cbb7ba7</wsa:MessageID><wsa:ReplyTo SOAP-ENV:mustUnderstand='true'><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address></wsa:ReplyTo><wsa:To>http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub</wsa:To></SOAP-ENV:Header><SOAP-ENV:Body><wsnt:Subscribe xmlns:wsnt='http://docs.oasis-open.org/wsn/b-2' xmlns:a='http://www.w3.org/2005/08/addressing' xmlns:rim='urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0' xmlns:wsa='http://www.w3.org/2005/08/addressing'><wsnt:ConsumerReference><wsa:Address>http://tukeventserver.ddns.net:8081/eventservice/event</wsa:Address></wsnt:ConsumerReference><wsnt:Filter><wsnt:TopicExpression Dialect='http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple'>ihe:FullDocumentEntry</wsnt:TopicExpression><rim:AdhocQuery id='urn:uuid:742790e0-aba6-43d6-9f1f-e43ed9790b79'><rim:Slot name='$XDSDocumentEntryTypeCode'><rim:ValueList><rim:Value>('LAC6^^TypeCode_EPUT_2018')</rim:Value></rim:ValueList></rim:Slot></rim:AdhocQuery></wsnt:Filter></wsnt:Subscribe></SOAP-ENV:Body></SOAP-ENV:Envelope>
2022/10/09 15:44:17.442886 tukhttp.go:214: SOAP Response - Status Code = 200
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"><env:Header xmlns:addressing="http://www.w3.org/2005/08/addressing"><addressing:Action env:mustUnderstand="1">http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeResponse</addressing:Action><addressing:MessageID>uuid:5F1E6030-E418-413E-B9AA-38334CC5A926</addressing:MessageID><addressing:RelatesTo>urn:uuid:0821e7b6-88da-43f5-881c-a5294cbb7ba7</addressing:RelatesTo></env:Header><env:Body><wsnt:SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">    <wsnt:SubscriptionReference>        <a:Address xmlns:a="http://www.w3.org/2005/08/addressing">http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/656ec1b3-43d3-4e0f-89a5-c136c17c6e00</a:Address>    </wsnt:SubscriptionReference>    <wsnt:TerminationTime>2099-09-20T00:00:00.000Z</wsnt:TerminationTime></wsnt:SubscribeResponse></env:Body></env:Envelope>
2022/10/09 15:44:17.442993 tukdsub.go:433: Set Broker Ref =  http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/656ec1b3-43d3-4e0f-89a5-c136c17c6e00
2022/10/09 15:44:17.443023 tukdsub.go:440: Registering Subscription with Event Service
2022/10/09 15:44:17.443039 tukdbint.go:376: Reflecting Field BrokerRef Value http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/656ec1b3-43d3-4e0f-89a5-c136c17c6e00
2022/10/09 15:44:17.443050 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.443060 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.443069 tukdbint.go:376: Reflecting Field Expression Value LAC6^^TypeCode_EPUT_2018
2022/10/09 15:44:17.443085 tukdbint.go:380: Obtained 4 Key Values - map[brokerref:http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/656ec1b3-43d3-4e0f-89a5-c136c17c6e00 expression:LAC6^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.443100 tukdbint.go:434: Created Prepared Statement INSERT INTO subscriptions (brokerref, pathway, topic, expression) VALUES (?, ?, ?, ?) - Values [http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/656ec1b3-43d3-4e0f-89a5-c136c17c6e00 lac $XDSDocumentEntryTypeCode LAC6^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.444906 tukdsub.go:381: Checking for existing Subscriptions for Expression LAC7^^TypeCode_EPUT_2018
2022/10/09 15:44:17.444940 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.444972 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.444985 tukdbint.go:376: Reflecting Field Expression Value LAC7^^TypeCode_EPUT_2018
2022/10/09 15:44:17.445002 tukdbint.go:380: Obtained 3 Key Values - map[expression:LAC7^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.445036 tukdbint.go:434: Created Prepared Statement SELECT * FROM subscriptions WHERE pathway= ? AND topic= ? AND expression= ? - Values [lac $XDSDocumentEntryTypeCode LAC7^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.445547 tukdsub.go:396: No Subscription for Pathway lac Topic $XDSDocumentEntryTypeCode Expression LAC7^^TypeCode_EPUT_2018 found
2022/10/09 15:44:17.445730 tukdsub.go:419: Sending Subscribe Request to DSUB Broker http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
2022/10/09 15:44:17.445764 tukhttp.go:209: SOAP Request Headers
2022/10/09 15:44:17.445805 tukutil.go:188: {
  "Accept": [
    "*/*"
  ],
  "Connection": [
    "keep-alive"
  ],
  "Content-Type": [
    "application/soap+xml"
  ],
  "Soapaction": [
    "http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest"
  ]
}
2022/10/09 15:44:17.445820 tukhttp.go:211: SOAP Request
URL = http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
Action = http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest
Timeout = 5

<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://www.w3.org/2003/05/soap-envelope' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:s='http://www.w3.org/2001/XMLSchema' xmlns:wsa='http://www.w3.org/2005/08/addressing'><SOAP-ENV:Header><wsa:Action SOAP-ENV:mustUnderstand='true'>http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest</wsa:Action><wsa:MessageID>urn:uuid:95235e52-8c3d-49f1-8b79-5df6a2b6c53a</wsa:MessageID><wsa:ReplyTo SOAP-ENV:mustUnderstand='true'><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address></wsa:ReplyTo><wsa:To>http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub</wsa:To></SOAP-ENV:Header><SOAP-ENV:Body><wsnt:Subscribe xmlns:wsnt='http://docs.oasis-open.org/wsn/b-2' xmlns:a='http://www.w3.org/2005/08/addressing' xmlns:rim='urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0' xmlns:wsa='http://www.w3.org/2005/08/addressing'><wsnt:ConsumerReference><wsa:Address>http://tukeventserver.ddns.net:8081/eventservice/event</wsa:Address></wsnt:ConsumerReference><wsnt:Filter><wsnt:TopicExpression Dialect='http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple'>ihe:FullDocumentEntry</wsnt:TopicExpression><rim:AdhocQuery id='urn:uuid:742790e0-aba6-43d6-9f1f-e43ed9790b79'><rim:Slot name='$XDSDocumentEntryTypeCode'><rim:ValueList><rim:Value>('LAC7^^TypeCode_EPUT_2018')</rim:Value></rim:ValueList></rim:Slot></rim:AdhocQuery></wsnt:Filter></wsnt:Subscribe></SOAP-ENV:Body></SOAP-ENV:Envelope>
2022/10/09 15:44:17.521804 tukhttp.go:214: SOAP Response - Status Code = 200
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"><env:Header xmlns:addressing="http://www.w3.org/2005/08/addressing"><addressing:Action env:mustUnderstand="1">http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeResponse</addressing:Action><addressing:MessageID>uuid:B1A3F448-2F76-4701-9FD1-1665A5D49A16</addressing:MessageID><addressing:RelatesTo>urn:uuid:95235e52-8c3d-49f1-8b79-5df6a2b6c53a</addressing:RelatesTo></env:Header><env:Body><wsnt:SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">    <wsnt:SubscriptionReference>        <a:Address xmlns:a="http://www.w3.org/2005/08/addressing">http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/ff39017b-daf3-4fb4-838e-a77eda6ed5f5</a:Address>    </wsnt:SubscriptionReference>    <wsnt:TerminationTime>2099-09-20T00:00:00.000Z</wsnt:TerminationTime></wsnt:SubscribeResponse></env:Body></env:Envelope>
2022/10/09 15:44:17.522051 tukdsub.go:433: Set Broker Ref =  http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/ff39017b-daf3-4fb4-838e-a77eda6ed5f5
2022/10/09 15:44:17.522113 tukdsub.go:440: Registering Subscription with Event Service
2022/10/09 15:44:17.522170 tukdbint.go:376: Reflecting Field BrokerRef Value http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/ff39017b-daf3-4fb4-838e-a77eda6ed5f5
2022/10/09 15:44:17.522197 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.522265 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.522288 tukdbint.go:376: Reflecting Field Expression Value LAC7^^TypeCode_EPUT_2018
2022/10/09 15:44:17.522321 tukdbint.go:380: Obtained 4 Key Values - map[brokerref:http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/ff39017b-daf3-4fb4-838e-a77eda6ed5f5 expression:LAC7^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.522351 tukdbint.go:434: Created Prepared Statement INSERT INTO subscriptions (topic, expression, brokerref, pathway) VALUES (?, ?, ?, ?) - Values [$XDSDocumentEntryTypeCode LAC7^^TypeCode_EPUT_2018 http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/ff39017b-daf3-4fb4-838e-a77eda6ed5f5 lac]
2022/10/09 15:44:17.525212 tukdsub.go:381: Checking for existing Subscriptions for Expression LAC8^^TypeCode_EPUT_2018
2022/10/09 15:44:17.525282 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.525310 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.525331 tukdbint.go:376: Reflecting Field Expression Value LAC8^^TypeCode_EPUT_2018
2022/10/09 15:44:17.525363 tukdbint.go:380: Obtained 3 Key Values - map[expression:LAC8^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.525392 tukdbint.go:434: Created Prepared Statement SELECT * FROM subscriptions WHERE pathway= ? AND topic= ? AND expression= ? - Values [lac $XDSDocumentEntryTypeCode LAC8^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.526700 tukdsub.go:396: No Subscription for Pathway lac Topic $XDSDocumentEntryTypeCode Expression LAC8^^TypeCode_EPUT_2018 found
2022/10/09 15:44:17.527068 tukdsub.go:419: Sending Subscribe Request to DSUB Broker http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
2022/10/09 15:44:17.527145 tukhttp.go:209: SOAP Request Headers
2022/10/09 15:44:17.527212 tukutil.go:188: {
  "Accept": [
    "*/*"
  ],
  "Connection": [
    "keep-alive"
  ],
  "Content-Type": [
    "application/soap+xml"
  ],
  "Soapaction": [
    "http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest"
  ]
}
2022/10/09 15:44:17.527270 tukhttp.go:211: SOAP Request
URL = http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
Action = http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest
Timeout = 5

<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://www.w3.org/2003/05/soap-envelope' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:s='http://www.w3.org/2001/XMLSchema' xmlns:wsa='http://www.w3.org/2005/08/addressing'><SOAP-ENV:Header><wsa:Action SOAP-ENV:mustUnderstand='true'>http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest</wsa:Action><wsa:MessageID>urn:uuid:59d70ca4-208a-40d4-8eba-078c79c0959b</wsa:MessageID><wsa:ReplyTo SOAP-ENV:mustUnderstand='true'><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address></wsa:ReplyTo><wsa:To>http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub</wsa:To></SOAP-ENV:Header><SOAP-ENV:Body><wsnt:Subscribe xmlns:wsnt='http://docs.oasis-open.org/wsn/b-2' xmlns:a='http://www.w3.org/2005/08/addressing' xmlns:rim='urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0' xmlns:wsa='http://www.w3.org/2005/08/addressing'><wsnt:ConsumerReference><wsa:Address>http://tukeventserver.ddns.net:8081/eventservice/event</wsa:Address></wsnt:ConsumerReference><wsnt:Filter><wsnt:TopicExpression Dialect='http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple'>ihe:FullDocumentEntry</wsnt:TopicExpression><rim:AdhocQuery id='urn:uuid:742790e0-aba6-43d6-9f1f-e43ed9790b79'><rim:Slot name='$XDSDocumentEntryTypeCode'><rim:ValueList><rim:Value>('LAC8^^TypeCode_EPUT_2018')</rim:Value></rim:ValueList></rim:Slot></rim:AdhocQuery></wsnt:Filter></wsnt:Subscribe></SOAP-ENV:Body></SOAP-ENV:Envelope>
2022/10/09 15:44:17.632483 tukhttp.go:214: SOAP Response - Status Code = 200
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"><env:Header xmlns:addressing="http://www.w3.org/2005/08/addressing"><addressing:Action env:mustUnderstand="1">http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeResponse</addressing:Action><addressing:MessageID>uuid:E7206017-6279-4080-9E21-96CE95ED3129</addressing:MessageID><addressing:RelatesTo>urn:uuid:59d70ca4-208a-40d4-8eba-078c79c0959b</addressing:RelatesTo></env:Header><env:Body><wsnt:SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">    <wsnt:SubscriptionReference>        <a:Address xmlns:a="http://www.w3.org/2005/08/addressing">http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/4e65c92c-039f-481b-b291-f1b497053a02</a:Address>    </wsnt:SubscriptionReference>    <wsnt:TerminationTime>2099-09-20T00:00:00.000Z</wsnt:TerminationTime></wsnt:SubscribeResponse></env:Body></env:Envelope>
2022/10/09 15:44:17.632785 tukdsub.go:433: Set Broker Ref =  http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/4e65c92c-039f-481b-b291-f1b497053a02
2022/10/09 15:44:17.632848 tukdsub.go:440: Registering Subscription with Event Service
2022/10/09 15:44:17.632891 tukdbint.go:376: Reflecting Field BrokerRef Value http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/4e65c92c-039f-481b-b291-f1b497053a02
2022/10/09 15:44:17.632916 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.632936 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.632954 tukdbint.go:376: Reflecting Field Expression Value LAC8^^TypeCode_EPUT_2018
2022/10/09 15:44:17.632993 tukdbint.go:380: Obtained 4 Key Values - map[brokerref:http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/4e65c92c-039f-481b-b291-f1b497053a02 expression:LAC8^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.633024 tukdbint.go:434: Created Prepared Statement INSERT INTO subscriptions (brokerref, pathway, topic, expression) VALUES (?, ?, ?, ?) - Values [http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/4e65c92c-039f-481b-b291-f1b497053a02 lac $XDSDocumentEntryTypeCode LAC8^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.636260 tukdsub.go:381: Checking for existing Subscriptions for Expression LAC9^^TypeCode_EPUT_2018
2022/10/09 15:44:17.636354 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.636394 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.636417 tukdbint.go:376: Reflecting Field Expression Value LAC9^^TypeCode_EPUT_2018
2022/10/09 15:44:17.636459 tukdbint.go:380: Obtained 3 Key Values - map[expression:LAC9^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.636519 tukdbint.go:434: Created Prepared Statement SELECT * FROM subscriptions WHERE pathway= ? AND topic= ? AND expression= ? - Values [lac $XDSDocumentEntryTypeCode LAC9^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.637800 tukdsub.go:396: No Subscription for Pathway lac Topic $XDSDocumentEntryTypeCode Expression LAC9^^TypeCode_EPUT_2018 found
2022/10/09 15:44:17.638177 tukdsub.go:419: Sending Subscribe Request to DSUB Broker http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
2022/10/09 15:44:17.638274 tukhttp.go:209: SOAP Request Headers
2022/10/09 15:44:17.638339 tukutil.go:188: {
  "Accept": [
    "*/*"
  ],
  "Connection": [
    "keep-alive"
  ],
  "Content-Type": [
    "application/soap+xml"
  ],
  "Soapaction": [
    "http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest"
  ]
}
2022/10/09 15:44:17.638382 tukhttp.go:211: SOAP Request
URL = http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
Action = http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest
Timeout = 5

<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://www.w3.org/2003/05/soap-envelope' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:s='http://www.w3.org/2001/XMLSchema' xmlns:wsa='http://www.w3.org/2005/08/addressing'><SOAP-ENV:Header><wsa:Action SOAP-ENV:mustUnderstand='true'>http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest</wsa:Action><wsa:MessageID>urn:uuid:5c49fd91-6c1a-411b-8a13-5f559d113d29</wsa:MessageID><wsa:ReplyTo SOAP-ENV:mustUnderstand='true'><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address></wsa:ReplyTo><wsa:To>http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub</wsa:To></SOAP-ENV:Header><SOAP-ENV:Body><wsnt:Subscribe xmlns:wsnt='http://docs.oasis-open.org/wsn/b-2' xmlns:a='http://www.w3.org/2005/08/addressing' xmlns:rim='urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0' xmlns:wsa='http://www.w3.org/2005/08/addressing'><wsnt:ConsumerReference><wsa:Address>http://tukeventserver.ddns.net:8081/eventservice/event</wsa:Address></wsnt:ConsumerReference><wsnt:Filter><wsnt:TopicExpression Dialect='http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple'>ihe:FullDocumentEntry</wsnt:TopicExpression><rim:AdhocQuery id='urn:uuid:742790e0-aba6-43d6-9f1f-e43ed9790b79'><rim:Slot name='$XDSDocumentEntryTypeCode'><rim:ValueList><rim:Value>('LAC9^^TypeCode_EPUT_2018')</rim:Value></rim:ValueList></rim:Slot></rim:AdhocQuery></wsnt:Filter></wsnt:Subscribe></SOAP-ENV:Body></SOAP-ENV:Envelope>
2022/10/09 15:44:17.733562 tukhttp.go:214: SOAP Response - Status Code = 200
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"><env:Header xmlns:addressing="http://www.w3.org/2005/08/addressing"><addressing:Action env:mustUnderstand="1">http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeResponse</addressing:Action><addressing:MessageID>uuid:E1B90309-E82D-437B-A1DF-A6DC1B81324E</addressing:MessageID><addressing:RelatesTo>urn:uuid:5c49fd91-6c1a-411b-8a13-5f559d113d29</addressing:RelatesTo></env:Header><env:Body><wsnt:SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">    <wsnt:SubscriptionReference>        <a:Address xmlns:a="http://www.w3.org/2005/08/addressing">http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/8ec6a34c-6639-41ac-972e-c077911577f4</a:Address>    </wsnt:SubscriptionReference>    <wsnt:TerminationTime>2099-09-20T00:00:00.000Z</wsnt:TerminationTime></wsnt:SubscribeResponse></env:Body></env:Envelope>
2022/10/09 15:44:17.733766 tukdsub.go:433: Set Broker Ref =  http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/8ec6a34c-6639-41ac-972e-c077911577f4
2022/10/09 15:44:17.733801 tukdsub.go:440: Registering Subscription with Event Service
2022/10/09 15:44:17.733833 tukdbint.go:376: Reflecting Field BrokerRef Value http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/8ec6a34c-6639-41ac-972e-c077911577f4
2022/10/09 15:44:17.733857 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.733877 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.733895 tukdbint.go:376: Reflecting Field Expression Value LAC9^^TypeCode_EPUT_2018
2022/10/09 15:44:17.733925 tukdbint.go:380: Obtained 4 Key Values - map[brokerref:http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/8ec6a34c-6639-41ac-972e-c077911577f4 expression:LAC9^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.733955 tukdbint.go:434: Created Prepared Statement INSERT INTO subscriptions (expression, brokerref, pathway, topic) VALUES (?, ?, ?, ?) - Values [LAC9^^TypeCode_EPUT_2018 http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/8ec6a34c-6639-41ac-972e-c077911577f4 lac $XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.739063 tukdsub.go:381: Checking for existing Subscriptions for Expression LAC1^^TypeCode_EPUT_2018
2022/10/09 15:44:17.739140 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.739224 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.739246 tukdbint.go:376: Reflecting Field Expression Value LAC1^^TypeCode_EPUT_2018
2022/10/09 15:44:17.739284 tukdbint.go:380: Obtained 3 Key Values - map[expression:LAC1^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.739315 tukdbint.go:434: Created Prepared Statement SELECT * FROM subscriptions WHERE pathway= ? AND topic= ? AND expression= ? - Values [lac $XDSDocumentEntryTypeCode LAC1^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.740623 tukdsub.go:396: No Subscription for Pathway lac Topic $XDSDocumentEntryTypeCode Expression LAC1^^TypeCode_EPUT_2018 found
2022/10/09 15:44:17.740940 tukdsub.go:419: Sending Subscribe Request to DSUB Broker http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
2022/10/09 15:44:17.741003 tukhttp.go:209: SOAP Request Headers
2022/10/09 15:44:17.741051 tukutil.go:188: {
  "Accept": [
    "*/*"
  ],
  "Connection": [
    "keep-alive"
  ],
  "Content-Type": [
    "application/soap+xml"
  ],
  "Soapaction": [
    "http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest"
  ]
}
2022/10/09 15:44:17.741076 tukhttp.go:211: SOAP Request
URL = http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
Action = http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest
Timeout = 5

<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://www.w3.org/2003/05/soap-envelope' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:s='http://www.w3.org/2001/XMLSchema' xmlns:wsa='http://www.w3.org/2005/08/addressing'><SOAP-ENV:Header><wsa:Action SOAP-ENV:mustUnderstand='true'>http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest</wsa:Action><wsa:MessageID>urn:uuid:dc95a504-d3bc-4bbe-ad31-ac6c69749c35</wsa:MessageID><wsa:ReplyTo SOAP-ENV:mustUnderstand='true'><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address></wsa:ReplyTo><wsa:To>http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub</wsa:To></SOAP-ENV:Header><SOAP-ENV:Body><wsnt:Subscribe xmlns:wsnt='http://docs.oasis-open.org/wsn/b-2' xmlns:a='http://www.w3.org/2005/08/addressing' xmlns:rim='urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0' xmlns:wsa='http://www.w3.org/2005/08/addressing'><wsnt:ConsumerReference><wsa:Address>http://tukeventserver.ddns.net:8081/eventservice/event</wsa:Address></wsnt:ConsumerReference><wsnt:Filter><wsnt:TopicExpression Dialect='http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple'>ihe:FullDocumentEntry</wsnt:TopicExpression><rim:AdhocQuery id='urn:uuid:742790e0-aba6-43d6-9f1f-e43ed9790b79'><rim:Slot name='$XDSDocumentEntryTypeCode'><rim:ValueList><rim:Value>('LAC1^^TypeCode_EPUT_2018')</rim:Value></rim:ValueList></rim:Slot></rim:AdhocQuery></wsnt:Filter></wsnt:Subscribe></SOAP-ENV:Body></SOAP-ENV:Envelope>
2022/10/09 15:44:17.801404 tukhttp.go:214: SOAP Response - Status Code = 200
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"><env:Header xmlns:addressing="http://www.w3.org/2005/08/addressing"><addressing:Action env:mustUnderstand="1">http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeResponse</addressing:Action><addressing:MessageID>uuid:E7E8541C-2BE7-414C-BF3B-34B4AA07BA31</addressing:MessageID><addressing:RelatesTo>urn:uuid:dc95a504-d3bc-4bbe-ad31-ac6c69749c35</addressing:RelatesTo></env:Header><env:Body><wsnt:SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">    <wsnt:SubscriptionReference>        <a:Address xmlns:a="http://www.w3.org/2005/08/addressing">http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d</a:Address>    </wsnt:SubscriptionReference>    <wsnt:TerminationTime>2099-09-20T00:00:00.000Z</wsnt:TerminationTime></wsnt:SubscribeResponse></env:Body></env:Envelope>
2022/10/09 15:44:17.801601 tukdsub.go:433: Set Broker Ref =  http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d
2022/10/09 15:44:17.801635 tukdsub.go:440: Registering Subscription with Event Service
2022/10/09 15:44:17.801667 tukdbint.go:376: Reflecting Field BrokerRef Value http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d
2022/10/09 15:44:17.801706 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.801726 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.801745 tukdbint.go:376: Reflecting Field Expression Value LAC1^^TypeCode_EPUT_2018
2022/10/09 15:44:17.801823 tukdbint.go:380: Obtained 4 Key Values - map[brokerref:http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d expression:LAC1^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.801855 tukdbint.go:434: Created Prepared Statement INSERT INTO subscriptions (brokerref, pathway, topic, expression) VALUES (?, ?, ?, ?) - Values [http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/1d3cb377-ccef-4d46-ac90-b1bf4c415f8d lac $XDSDocumentEntryTypeCode LAC1^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.804740 tukdsub.go:381: Checking for existing Subscriptions for Expression LAC4^^TypeCode_EPUT_2018
2022/10/09 15:44:17.804817 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.804887 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.804914 tukdbint.go:376: Reflecting Field Expression Value LAC4^^TypeCode_EPUT_2018
2022/10/09 15:44:17.804948 tukdbint.go:380: Obtained 3 Key Values - map[expression:LAC4^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.804977 tukdbint.go:434: Created Prepared Statement SELECT * FROM subscriptions WHERE pathway= ? AND topic= ? AND expression= ? - Values [lac $XDSDocumentEntryTypeCode LAC4^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.806282 tukdsub.go:396: No Subscription for Pathway lac Topic $XDSDocumentEntryTypeCode Expression LAC4^^TypeCode_EPUT_2018 found
2022/10/09 15:44:17.806670 tukdsub.go:419: Sending Subscribe Request to DSUB Broker http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
2022/10/09 15:44:17.806744 tukhttp.go:209: SOAP Request Headers
2022/10/09 15:44:17.806793 tukutil.go:188: {
  "Accept": [
    "*/*"
  ],
  "Connection": [
    "keep-alive"
  ],
  "Content-Type": [
    "application/soap+xml"
  ],
  "Soapaction": [
    "http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest"
  ]
}
2022/10/09 15:44:17.806842 tukhttp.go:211: SOAP Request
URL = http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
Action = http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest
Timeout = 5

<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://www.w3.org/2003/05/soap-envelope' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:s='http://www.w3.org/2001/XMLSchema' xmlns:wsa='http://www.w3.org/2005/08/addressing'><SOAP-ENV:Header><wsa:Action SOAP-ENV:mustUnderstand='true'>http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest</wsa:Action><wsa:MessageID>urn:uuid:54f8082a-06cb-4bf7-bcb4-00282eb1d414</wsa:MessageID><wsa:ReplyTo SOAP-ENV:mustUnderstand='true'><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address></wsa:ReplyTo><wsa:To>http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub</wsa:To></SOAP-ENV:Header><SOAP-ENV:Body><wsnt:Subscribe xmlns:wsnt='http://docs.oasis-open.org/wsn/b-2' xmlns:a='http://www.w3.org/2005/08/addressing' xmlns:rim='urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0' xmlns:wsa='http://www.w3.org/2005/08/addressing'><wsnt:ConsumerReference><wsa:Address>http://tukeventserver.ddns.net:8081/eventservice/event</wsa:Address></wsnt:ConsumerReference><wsnt:Filter><wsnt:TopicExpression Dialect='http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple'>ihe:FullDocumentEntry</wsnt:TopicExpression><rim:AdhocQuery id='urn:uuid:742790e0-aba6-43d6-9f1f-e43ed9790b79'><rim:Slot name='$XDSDocumentEntryTypeCode'><rim:ValueList><rim:Value>('LAC4^^TypeCode_EPUT_2018')</rim:Value></rim:ValueList></rim:Slot></rim:AdhocQuery></wsnt:Filter></wsnt:Subscribe></SOAP-ENV:Body></SOAP-ENV:Envelope>
2022/10/09 15:44:17.900554 tukhttp.go:214: SOAP Response - Status Code = 200
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"><env:Header xmlns:addressing="http://www.w3.org/2005/08/addressing"><addressing:Action env:mustUnderstand="1">http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeResponse</addressing:Action><addressing:MessageID>uuid:974538D0-8EEF-4982-BCF1-3C45E13BF765</addressing:MessageID><addressing:RelatesTo>urn:uuid:54f8082a-06cb-4bf7-bcb4-00282eb1d414</addressing:RelatesTo></env:Header><env:Body><wsnt:SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">    <wsnt:SubscriptionReference>        <a:Address xmlns:a="http://www.w3.org/2005/08/addressing">http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/f5cdba48-12cf-4b74-b5b8-85308f74d8a6</a:Address>    </wsnt:SubscriptionReference>    <wsnt:TerminationTime>2099-09-20T00:00:00.000Z</wsnt:TerminationTime></wsnt:SubscribeResponse></env:Body></env:Envelope>
2022/10/09 15:44:17.900895 tukdsub.go:433: Set Broker Ref =  http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/f5cdba48-12cf-4b74-b5b8-85308f74d8a6
2022/10/09 15:44:17.900938 tukdsub.go:440: Registering Subscription with Event Service
2022/10/09 15:44:17.900971 tukdbint.go:376: Reflecting Field BrokerRef Value http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/f5cdba48-12cf-4b74-b5b8-85308f74d8a6
2022/10/09 15:44:17.900994 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.901014 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.901364 tukdbint.go:376: Reflecting Field Expression Value LAC4^^TypeCode_EPUT_2018
2022/10/09 15:44:17.901424 tukdbint.go:380: Obtained 4 Key Values - map[brokerref:http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/f5cdba48-12cf-4b74-b5b8-85308f74d8a6 expression:LAC4^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.901456 tukdbint.go:434: Created Prepared Statement INSERT INTO subscriptions (pathway, topic, expression, brokerref) VALUES (?, ?, ?, ?) - Values [lac $XDSDocumentEntryTypeCode LAC4^^TypeCode_EPUT_2018 http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/f5cdba48-12cf-4b74-b5b8-85308f74d8a6]
2022/10/09 15:44:17.904584 tukdsub.go:381: Checking for existing Subscriptions for Expression LAC5^^TypeCode_EPUT_2018
2022/10/09 15:44:17.904665 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.904696 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.904717 tukdbint.go:376: Reflecting Field Expression Value LAC5^^TypeCode_EPUT_2018
2022/10/09 15:44:17.904753 tukdbint.go:380: Obtained 3 Key Values - map[expression:LAC5^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.904784 tukdbint.go:434: Created Prepared Statement SELECT * FROM subscriptions WHERE pathway= ? AND topic= ? AND expression= ? - Values [lac $XDSDocumentEntryTypeCode LAC5^^TypeCode_EPUT_2018]
2022/10/09 15:44:17.906814 tukdsub.go:396: No Subscription for Pathway lac Topic $XDSDocumentEntryTypeCode Expression LAC5^^TypeCode_EPUT_2018 found
2022/10/09 15:44:17.907051 tukdsub.go:419: Sending Subscribe Request to DSUB Broker http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
2022/10/09 15:44:17.907098 tukhttp.go:209: SOAP Request Headers
2022/10/09 15:44:17.907145 tukutil.go:188: {
  "Accept": [
    "*/*"
  ],
  "Connection": [
    "keep-alive"
  ],
  "Content-Type": [
    "application/soap+xml"
  ],
  "Soapaction": [
    "http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest"
  ]
}
2022/10/09 15:44:17.907218 tukhttp.go:211: SOAP Request
URL = http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub
Action = http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest
Timeout = 5

<SOAP-ENV:Envelope xmlns:SOAP-ENV='http://www.w3.org/2003/05/soap-envelope' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:s='http://www.w3.org/2001/XMLSchema' xmlns:wsa='http://www.w3.org/2005/08/addressing'><SOAP-ENV:Header><wsa:Action SOAP-ENV:mustUnderstand='true'>http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeRequest</wsa:Action><wsa:MessageID>urn:uuid:edc4d85f-5ffb-4c01-aab7-036bd70a40fd</wsa:MessageID><wsa:ReplyTo SOAP-ENV:mustUnderstand='true'><wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address></wsa:ReplyTo><wsa:To>http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub</wsa:To></SOAP-ENV:Header><SOAP-ENV:Body><wsnt:Subscribe xmlns:wsnt='http://docs.oasis-open.org/wsn/b-2' xmlns:a='http://www.w3.org/2005/08/addressing' xmlns:rim='urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0' xmlns:wsa='http://www.w3.org/2005/08/addressing'><wsnt:ConsumerReference><wsa:Address>http://tukeventserver.ddns.net:8081/eventservice/event</wsa:Address></wsnt:ConsumerReference><wsnt:Filter><wsnt:TopicExpression Dialect='http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple'>ihe:FullDocumentEntry</wsnt:TopicExpression><rim:AdhocQuery id='urn:uuid:742790e0-aba6-43d6-9f1f-e43ed9790b79'><rim:Slot name='$XDSDocumentEntryTypeCode'><rim:ValueList><rim:Value>('LAC5^^TypeCode_EPUT_2018')</rim:Value></rim:ValueList></rim:Slot></rim:AdhocQuery></wsnt:Filter></wsnt:Subscribe></SOAP-ENV:Body></SOAP-ENV:Envelope>
2022/10/09 15:44:17.996977 tukhttp.go:214: SOAP Response - Status Code = 200
<env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"><env:Header xmlns:addressing="http://www.w3.org/2005/08/addressing"><addressing:Action env:mustUnderstand="1">http://docs.oasis-open.org/wsn/bw-2/NotificationProducer/SubscribeResponse</addressing:Action><addressing:MessageID>uuid:1EAC7DBC-F440-4CF2-AC82-08788D9D410F</addressing:MessageID><addressing:RelatesTo>urn:uuid:edc4d85f-5ffb-4c01-aab7-036bd70a40fd</addressing:RelatesTo></env:Header><env:Body><wsnt:SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">    <wsnt:SubscriptionReference>        <a:Address xmlns:a="http://www.w3.org/2005/08/addressing">http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/cfab1af9-7d8b-4d12-a52e-88726d2c6942</a:Address>    </wsnt:SubscriptionReference>    <wsnt:TerminationTime>2099-09-20T00:00:00.000Z</wsnt:TerminationTime></wsnt:SubscribeResponse></env:Body></env:Envelope>
2022/10/09 15:44:17.997277 tukdsub.go:433: Set Broker Ref =  http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/cfab1af9-7d8b-4d12-a52e-88726d2c6942
2022/10/09 15:44:17.997318 tukdsub.go:440: Registering Subscription with Event Service
2022/10/09 15:44:17.997350 tukdbint.go:376: Reflecting Field BrokerRef Value http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/cfab1af9-7d8b-4d12-a52e-88726d2c6942
2022/10/09 15:44:17.997374 tukdbint.go:376: Reflecting Field Pathway Value lac
2022/10/09 15:44:17.997393 tukdbint.go:376: Reflecting Field Topic Value $XDSDocumentEntryTypeCode
2022/10/09 15:44:17.997411 tukdbint.go:376: Reflecting Field Expression Value LAC5^^TypeCode_EPUT_2018
2022/10/09 15:44:17.997441 tukdbint.go:380: Obtained 4 Key Values - map[brokerref:http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/cfab1af9-7d8b-4d12-a52e-88726d2c6942 expression:LAC5^^TypeCode_EPUT_2018 pathway:lac topic:$XDSDocumentEntryTypeCode]
2022/10/09 15:44:17.997471 tukdbint.go:434: Created Prepared Statement INSERT INTO subscriptions (brokerref, pathway, topic, expression) VALUES (?, ?, ?, ?) - Values [http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/cfab1af9-7d8b-4d12-a52e-88726d2c6942 lac $XDSDocumentEntryTypeCode LAC5^^TypeCode_EPUT_2018]
