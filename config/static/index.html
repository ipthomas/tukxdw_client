
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tiani Spirit ICS Event Services API</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:300,600|Titillium+Web:400,600,700" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui.css" >
  <style>
    html
    {
      box-sizing: border-box;
      overflow: -moz-scrollbars-vertical;
      overflow-y: scroll;
    }
    *,
    *:before,
    *:after
    {
      box-sizing: inherit;
    }

    body {
      margin:0;
      background: #fafafa;
    }
  </style>
</head>
<body>

<div id="swagger-ui"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui-bundle.js"> </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.24.2/swagger-ui-standalone-preset.js"> </script>
<script>
window.onload = function() {

  var spec = {"openapi": "3.0.2", "info": {"title": "Tiani Spirit - Cross Community Workflow Server", "version": "1.3.0", "description": "Open Source implementation of IHE PIX and PIXm, XDW and DSUB Profiles to support an Event Driven Workflow Solution"}, "servers": [{"url": "{scheme}://{host}:{port}/{basePath}", "description": "Spirit Event Management Services", "variables": {"scheme": {"enum": ["https", "http"], "default": "http"}, "host": {"enum": ["spirit-go-01.tianispirit.co.uk", "localhost", "prod.eput.nhs.co.uk"], "default": "spirit-go-01.tianispirit.co.uk"}, "port": {"enum": ["8081", "8443", "8381"], "default": "8381"}, "basePath": {"default": "eventservice"}}}], "paths": {"/event": {"get": {"summary": "Event Service.", "responses": {"200": {"description": "successful operation", "content": {"application/json": {"schema": {"type": "object", "items": {"type": "object"}}}, "text/html": {"schema": {"type": "string", "items": {"type": "string"}}}}}, "400": {"description": "bad request", "content": {"text/html": {"schema": {"type": "string", "items": {"type": "string"}}}}}, "500": {"description": "internal server error", "content": {"text/html": {"schema": {"type": "string", "items": {"type": "string"}}}}}}, "parameters": [{"name": "act", "in": "query", "required": true, "description": "The Query Action.", "schema": {"type": "string", "format": "string", "default": "widget", "enum": ["widget", "events", "subscriber", "services", "admin"]}}, {"name": "task", "in": "query", "required": false, "description": "The Action Task", "schema": {"type": "string", "format": "string", "default": "spa", "enum": ["spa", "timeline", "dashboard", "xdw", "xdws", "restart", "list", "create", "cancel", "set", "get", "setmeta", "getmeta", "setxdw", "getxdw", "sethtml", "gethtml", "config"]}}, {"name": "vers", "in": "query", "required": true, "description": "The version of the workflow. to specify all workflows set version =-1.", "schema": {"type": "integer", "format": "integer", "default": -1}}, {"name": "taskid", "in": "query", "required": true, "description": "The Task id of the workflow.", "schema": {"type": "integer", "format": "integer", "default": -1}}, {"name": "op", "in": "query", "required": false, "description": "The name of the service or XDW definition or XDW meta definition or HTML template or XML message template", "schema": {"type": "string", "format": "string"}}, {"name": "user", "in": "query", "required": true, "description": "The Username of the Clinician. Used for event creation. The service does NOT implement RBAC.", "schema": {"type": "string", "format": "string", "default": "testuser"}}, {"name": "org", "in": "query", "required": true, "description": "The Users Organisation name. Used in User Event Creation and Auditing.", "schema": {"type": "string", "format": "string", "default": "testorg"}}, {"name": "role", "in": "query", "required": true, "description": "The Users Role. The Users Organisation name. Used in User Event Creation and Auditing.", "schema": {"type": "string", "format": "string", "default": "testrole"}}, {"name": "nhs", "in": "query", "required": false, "description": "The NHS ID of the patient. A patient ID (either nhs=x or pid=x)", "schema": {"type": "string", "format": "string", "default": 9999999468}}, {"name": "pid", "in": "query", "required": false, "description": "The MRN ID of the patient. A patient ID (either nhs=x or pid=x)", "schema": {"type": "string", "format": "string"}}, {"name": "pidorg", "in": "query", "required": false, "description": "The (short form) org MRN ID assigning authority. Required if the patient ID is provided using pid=x", "schema": {"type": "string", "format": "string"}}, {"name": "pathway", "in": "query", "required": false, "description": "The Workflow Pathway.", "schema": {"type": "string", "format": "string", "default": "LAC", "enum": ["LAC", "TOC", "RADALERT", "PATHCONSULT"]}}, {"name": "expression", "in": "query", "required": false, "description": "The Expression for Subscription or the Event", "schema": {"type": "string", "format": "string"}}, {"name": "notes", "in": "query", "required": false, "description": "Free text Event Notes.", "schema": {"type": "string", "format": "string"}}, {"name": "_format", "in": "query", "required": false, "description": "Alernative to using Accept Header to request json or xml format.", "schema": {"type": "string", "format": "string", "enum": ["json", "xml"]}}, {"name": "id", "in": "query", "required": false, "description": "Subscription ID. Required when cancelling a subscription", "schema": {"type": "string", "format": "string"}}]}, "post": {"summary": "IHE DSUB Notificaton Consumer.", "requestBody": {"description": "Supports IHE IT Infrastructure Technical Framework DSUB ITI-53 Transactions and IHE IT Infrastructure Technical Framework XDS-b ITI-43 Transactions. Messages are routed based on the Message SOAP Action.  Notify messages received from a DSUB Broker are matched with each subscription broker reference and individual Events are created for each subscriber. If a subscription does not exist for the subscription reference in a received DSUB notify message, the message will still be ack'd and a cancel subscription sent to the broker.", "required": true, "content": {"string": {"schema": {"type": "string"}, "example": "<Notify xmlns='http://docs.oasis-open.org/wsn/b-2' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'><NotificationMessage><SubscriptionReference><Address xmlns='http://www.w3.org/2005/08/addressing'>http://spirit-test-01.tianispirit.co.uk:8081/SpiritXDSDsub/Dsub/dsubid/113d7d11-95cb-48d7-9d1d-b07be9638555</Address></SubscriptionReference><Topic Dialect='http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple'>ihe:FullDocumentEntry</Topic><ProducerReference><Address xmlns='http://www.w3.org/2005/08/addressing'>urn:oid:1.3.6.1.4.1.21367.2011.2.6.208</Address></ProducerReference><Message><lcm:SubmitObjectsRequest xmlns:lcm='urn:oasis:names:tc:ebxml-regrep:xsd:lcm:3.0'><rim:RegistryObjectList xmlns:rim='urn:oasis:names:tc:ebxml-regrep:xsd:rim:3.0'><rim:ExtrinsicObject xmlns:a='http://www.w3.org/2005/08/addressing' id='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' mimeType='application/pdf' objectType='urn:uuid:7edca82f-054d-47f2-a032-9b2a5b5186c1'><rim:Slot name='size'><rim:ValueList><rim:Value>4</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='repositoryUniqueId'><rim:ValueList><rim:Value>2.16.840.1.113883.2.1.3.31.2.15.1.1.1.8</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='hash'><rim:ValueList><rim:Value>e543712c0e10501972de13a5bfcbe826c49feb75</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='creationTime'><rim:ValueList><rim:Value>20220124</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='languageCode'><rim:ValueList><rim:Value>en-GB</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='serviceStartTime'><rim:ValueList><rim:Value>202201230800</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='serviceStopTime'><rim:ValueList><rim:Value>202201230900</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='sourcePatientId'><rim:ValueList><rim:Value>REG.1M6OG1JI8N^^^&amp;2.16.840.1.113883.2.1.3.31.2.1.1&amp;ISO</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='sourcePatientInfo'><rim:ValueList><rim:Value>PID-3|REG.1M6OG1JI8N^^^&amp;2.16.840.1.113883.2.1.3.31.2.1.1&amp;ISO</rim:Value><rim:Value>PID-5|Matthew^Thomaas^^^</rim:Value><rim:Value>PID-7|19930718</rim:Value><rim:Value>PID-8|M</rim:Value><rim:Value>PID-11|19 Abernathy^^St Louis^MO^63101^USA</rim:Value></rim:ValueList></rim:Slot><rim:Name><rim:LocalizedString value='CPIS Referral'/></rim:Name><rim:Description/><rim:Classification classificationScheme='urn:uuid:93606bcf-9494-43ec-9b4e-a7748d1a838d' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:438d6e9b-8257-4b1b-b1e1-ad2682c02992' nodeRepresentation='' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='authorPerson'><rim:ValueList><rim:Value>^Dr^Swagger^^^</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='authorInstitution'><rim:ValueList><rim:Value>LTH</rim:Value><rim:Value>Peadiatrics</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='authorRole'><rim:ValueList><rim:Value>Attending</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='authorSpecialty'><rim:ValueList><rim:Value>Emergency</rim:Value></rim:ValueList></rim:Slot></rim:Classification><rim:Classification classificationScheme='urn:uuid:93606bcf-9494-43ec-9b4e-a7748d1a838d' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:70c15859-1d59-4b2e-8713-d5dd9c892a7c' nodeRepresentation='' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='authorPerson'><rim:ValueList><rim:Value>^^Dr^Swagger^^^</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='authorInstitution'><rim:ValueList><rim:Value>LTH</rim:Value><rim:Value>Attending</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='authorRole'><rim:ValueList><rim:Value>Emergency</rim:Value></rim:ValueList></rim:Slot><rim:Slot name='authorSpecialty'><rim:ValueList><rim:Value>Emergency</rim:Value></rim:ValueList></rim:Slot></rim:Classification><rim:Classification classificationScheme='urn:uuid:41a5887f-8865-4c09-adf7-e362475b143a' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:a540e45a-b941-4c5c-aec5-d0b7b0fc2266' nodeRepresentation='CPIS Referral' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='codingScheme'><rim:ValueList><rim:Value>1.3.6.1.4.1.19376.1.2.6.1</rim:Value></rim:ValueList></rim:Slot><rim:Name><rim:LocalizedString value='Referral'/></rim:Name></rim:Classification><rim:Classification classificationScheme='urn:uuid:f4f85eac-e6cb-4883-b524-f2705394840f' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:9abf139d-fec9-4d5d-95a8-eea0cdd08807' nodeRepresentation='R' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='codingScheme'><rim:ValueList><rim:Value>2.16.840.1.113883.5.25</rim:Value></rim:ValueList></rim:Slot><rim:Name><rim:LocalizedString value='Restricted'/></rim:Name></rim:Classification><rim:Classification classificationScheme='urn:uuid:a09d5840-386c-46f2-b5ad-9c3699a4309d' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:a29dda08-2b47-4736-bdd5-a965ff25f16d' nodeRepresentation='CPIS Referral' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='codingScheme'><rim:ValueList><rim:Value>1.3.6.1.4.1.19376.1.2.3</rim:Value></rim:ValueList></rim:Slot><rim:Name><rim:LocalizedString value='CPIS Referral'/></rim:Name></rim:Classification><rim:Classification classificationScheme='urn:uuid:f33fb8ac-18af-42cc-ae0e-ed0b0bdb91e1' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:cfc23e45-0d96-45d0-b628-8c6eacfd8179' nodeRepresentation='394747008' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='codingScheme'><rim:ValueList><rim:Value>2.16.840.1.113883.6.96</rim:Value></rim:ValueList></rim:Slot><rim:Name><rim:LocalizedString value='Health Authority'/></rim:Name></rim:Classification><rim:Classification classificationScheme='urn:uuid:cccf5598-8b07-4b77-a05e-ae952c785ead' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:1b630f6d-defd-4e4a-8529-cf6709653f3a' nodeRepresentation='Emergency' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='codingScheme'><rim:ValueList><rim:Value>1.3.6.1.4.1.21367.2017.3</rim:Value></rim:ValueList></rim:Slot><rim:Name><rim:LocalizedString value='Peadiactrics'/></rim:Name></rim:Classification><rim:Classification classificationScheme='urn:uuid:2c6b8cb7-8b2a-4051-b291-b1ae6a575ef4' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:ee6effbe-f1dc-48b3-9e9e-885cd2feeb0a' nodeRepresentation='urn:connectathon:bppc:foundational:policy' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='codingScheme'><rim:ValueList><rim:Value>1.3.6.1.4.1.21367.2017.3</rim:Value></rim:ValueList></rim:Slot><rim:Name><rim:LocalizedString value='Foundational Connectathon Read-Access Policy'/></rim:Name></rim:Classification><rim:Classification classificationScheme='urn:uuid:2c6b8cb7-8b2a-4051-b291-b1ae6a575ef4' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:5a685f36-6455-470e-b42c-d1b4644cb7aa' nodeRepresentation='urn:connectathon:policy:full-access' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='codingScheme'><rim:ValueList><rim:Value>1.3.6.1.4.1.21367.2017.3</rim:Value></rim:ValueList></rim:Slot><rim:Name><rim:LocalizedString value='FULL ACCESS TO ALL POLICY'/></rim:Name></rim:Classification><rim:Classification classificationScheme='urn:uuid:f0306f51-975f-434e-a61c-c59651d33983' classifiedObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' id='urn:uuid:08c72cbf-aeb7-48d8-a95d-b11ddc9f231b' nodeRepresentation='CPIS221324' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:Classification'><rim:Slot name='codingScheme'><rim:ValueList><rim:Value>2.16.840.1.113883.6.1</rim:Value></rim:ValueList></rim:Slot><rim:Name><rim:LocalizedString value='CPIS Referral'/></rim:Name></rim:Classification><rim:ExternalIdentifier id='urn:uuid:000c8b20-395a-47d9-8e01-9da478a93d6d' identificationScheme='urn:uuid:58a6f841-87b3-4a3e-92fd-a8ffeff98427' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier' registryObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' value='REG.1M6OG1JI8N^^^&amp;2.16.840.1.113883.2.1.3.31.2.1.1&amp;ISO'><rim:Name><rim:LocalizedString value='XDSDocumentEntry.patientId'/></rim:Name></rim:ExternalIdentifier><rim:ExternalIdentifier id='urn:uuid:efe8b816-9a35-455d-9932-9ae9664ba76d' identificationScheme='urn:uuid:2e82c1f6-a085-4c72-9da3-8640a32e42ab' objectType='urn:oasis:names:tc:ebxml-regrep:ObjectType:RegistryObject:ExternalIdentifier' registryObject='urn:uuid:4b0a6ee0-1dbe-4f98-b057-e17587fbd66f' value='1.2.42.20201102103234.2556'><rim:Name><rim:LocalizedString value='XDSDocumentEntry.uniqueId'/></rim:Name></rim:ExternalIdentifier></rim:ExtrinsicObject></rim:RegistryObjectList></lcm:SubmitObjectsRequest></Message></NotificationMessage></Notify>"}}}, "responses": {"200": {"description": "successful operation"}}}}}};

  // Build a system
  const ui = SwaggerUIBundle({
    spec: spec,
    dom_id: '#swagger-ui',
    deepLinking: true,
    presets: [
      SwaggerUIBundle.presets.apis,
      SwaggerUIStandalonePreset
    ],
    plugins: [
      SwaggerUIBundle.plugins.DownloadUrl
    ],
    layout: "StandaloneLayout"
  })

  window.ui = ui
}
</script>
</body>

</html>
